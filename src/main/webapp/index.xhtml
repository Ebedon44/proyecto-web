<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"></link>

        <center>
            <p:outputLabel value="ORIGAMI PLANIFICACION 2024" style="font-weight: bolder; font-size: 26px; font-family: inherit"/>
        </center>

        <center>
            <p:outputLabel value="Ingreso de Proyecto" style="font-weight: normal; font-size: 18px; font-family: monospace"/>
        </center>
    </h:head>
    <h:body >
        <div class="container">
            <form>
                <div class="row justify-content-center">
                    <div id="form" class="col-md-6">
                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <label for="selectProcesos" class="form-label">Procesos:</label>
                                <p:selectOneMenu id="selectProcesos" style="width: 100%" widgetVar="procesosWidget">
                                    <f:selectItems value="#{procesosMB.procesos}" var="procesos" itemValue="${procesos.id}" itemLabel="#{procesos.descripcion}"></f:selectItems>
                                </p:selectOneMenu>
                            </div>
                            <div class="col-sm-6">
                                <label for="selectAreas" class="form-label">√Åreas:</label>
                                <p:selectOneMenu id="selectAreas" style="width: 100%" widgetVar="selectAreasWidget">
                                    <f:selectItems value="#{areaMB.areas}" var="areas" itemValue="${areas.id}" itemLabel="#{areas.descripcion}"></f:selectItems>
                                </p:selectOneMenu>
                            </div>
                        </div>


                        <div class="row mb-3">
                            <div class="col-sm-4">
                                <label for="selectTipos" class="form-label">Tipo:</label>
                                <select id="selectTipos" class="form-select">
                                    <option value="GESTION">GESTION</option>
                                    <option value="INVERSION">INVERSION</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <label for="recurrencia" class="form-label">Recurrencia:</label>
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="recurrencia" value="#{proyectoMB.proyecto.recurrente}"/>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label for="arrastre" class="form-label">Arrastre:</label>
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="arrastre" value="#{proyectoMB.proyecto.arrastre}"/>
                                </div>
                            </div>
                        </div>


                        <div class="row mb-3">
                            <label for="detalleArrastre" class="col-sm-3 col-form-label">Detalle Arrastre:</label>
                            <div class="col-sm-9">
                                <textarea id="detalleArrastre" class="form-control" rows="3" value="#{proyectoMB.proyecto.detalleArrastre}"></textarea>
                            </div>
                        </div>

                        <!-- Add other form fields as needed -->

                        <div class="text-center mb-3">
                            <label class="form-label">DATOS GENERALES</label>
                        </div>

                        <!-- Add other form fields as needed -->

                        <div class="row mb-3">
                            <label for="responsable" class="col-sm-3 col-form-label">Responsable:</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="responsable" value="#{proyectoMB.proyecto.responsable}"/>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="objgeneral" class="col-sm-3 col-form-label">Objetivo General:</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="objgeneral" value="#{proyectoMB.proyecto.objetivo}"/>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <label for="descripcion" class="col-sm-3 col-form-label">Descripcion Breve:</label>
                            <div class="col-sm-9">
                                <textarea id="descripcion" class="form-control" rows="3" value="#{proyectoMB.proyecto.descripcionBreve}"></textarea>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-4">
                                <label for="costoEstimado" class="form-label">Costo Estimado:</label>
                                <input type="text" class="form-control" id="costoEstimado" value="#{proyectoMB.proyecto.costoProyecto}"/>
                            </div>
                            <div class="col-sm-4">
                                <label for="fechaInicio" class="form-label">Fecha de Inicio:</label>
                                <input type="date" class="form-control" id="fechaInicio" value="#{proyectoMB.proyecto.fechaInicio}"/>
                            </div>
                            <div class="col-sm-4">
                                <label for="fechaFin" class="form-label">Fecha Fin:</label>
                                <input type="date" class="form-control" id="fechaFin" value="#{proyectoMB.proyecto.fechaFin}"/>
                            </div>
                        </div>



                        <!-- Add other form fields as needed -->

                        <div class="text-center">
                            <button type="button" class="btn btn-primary" onclick="mostrarValoresFormulario()">Guardar</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>



        <script>
                                function mostrarValoresFormulario() {
                                    // Obtener el widget PrimeFaces
                                    var procesoW = PF('procesosWidget');
                                    var slP = procesoW.getSelectedValue();
                                    var areasWidget = PF('selectAreasWidget');
                                    var areaSeleccionada = areasWidget.getSelectedValue();
                                    var selectAreas = document.getElementById("selectAreas").value;
                                    var selectTipos = document.getElementById("selectTipos").value;
                                    var recurrencia = document.getElementById("recurrencia").checked;
                                    var arrastre = document.getElementById("arrastre").checked;
                                    var detalleArrastre = document.getElementById("detalleArrastre").value;
                                    var responsable = document.getElementById("responsable").value;
                                    var objgeneral = document.getElementById("objgeneral").value;
                                    var descripcionBreve = document.getElementById("descripcion").value;
                                    var costoEstimado = document.getElementById("costoEstimado").value;
                                    var fechaInicio = document.getElementById("fechaInicio").value;
                                    var fechaFin = document.getElementById("fechaFin").value;

                                    // Imprimir valores en la consola del navegador
                                    console.log("selectProcesos: " + slP);
                                    console.log("selectAreas: " + areaSeleccionada);
                                    console.log("selectTipos: " + selectTipos);
                                    console.log("recurrencia: " + recurrencia);
                                    console.log("arrastre: " + arrastre);
                                    console.log("detalleArrastre: " + detalleArrastre);
                                    console.log("responsable: " + responsable);
                                    console.log("objgeneral: " + objgeneral);
                                    console.log("descripcionBreve: " + descripcionBreve);
                                    console.log("costoEstimado: " + costoEstimado);
                                    console.log("fechaInicio: " + fechaInicio);
                                    console.log("fechaFin: " + fechaFin);

                                    var proyecto = {
                                        proceso: slP,
                                        area: areaSeleccionada,
                                        tipo: slP,
                                        recurrencia: recurrencia,
                                        arrastre: arrastre,
                                        detalleArrastre: detalleArrastre,
                                        responsable: responsable,
                                        objGeneral: objgeneral,
                                        descripcionBreve: descripcionBreve,
                                        costoEstimado: costoEstimado,
                                        fechaInicio: fechaInicio,
                                        fechaFin: fechaFin
                                    };
                                    
                                    console.log("proyecto",proyecto);
                                    #{proyectoMB.guardarProyecto(proyecto)}
                                    
                                    



                                }
        </script>
    </h:body>

</html>
